{"version":3,"file":"upvote.min.js","sources":["../src/upvote.js"],"sourcesContent":["define(['jquery', 'core/ajax'], function($, Ajax){\n    //var test = $('.upvote-btn');\n    $('.upvote-btn').click(function (e) { \n        e.preventDefault();\n        let element = $(this);\n        let modid = element.data('modid');\n        let postid = element.data('postid');\n\n        let request = {\n            methodname: 'mod_knowledgeshare_upvote_post',\n            args: {\n                modid: modid,\n                postid: postid,\n            }\n        };\n\n        let button = $(this);\n        Ajax.call([request])[0].done(function(result) {\n            result = JSON.parse(result);\n            if(result.status == 'upvote'){\n                $('.upvote-html').html(\"<b>Upvotes: </b>\" + result.upvotes);\n                button.html(\"<b>Upvoted</b>\");\n            } else {\n                $('.upvote-html').html(\"<b>Upvotes: </b>\" + result.upvotes);\n                button.html(\"Upvote\");\n            }\n\n        }).fail(function(error){\n            console.log(error);\n        });\n        \n    });\n});"],"names":["define","$","Ajax","click","e","preventDefault","element","this","request","methodname","args","modid","data","postid","button","call","done","result","JSON","parse","status","html","upvotes","fail","error","console","log"],"mappings":"AAAAA,mCAAO,CAAC,SAAU,cAAc,SAASC,EAAGC,MAExCD,EAAE,eAAeE,OAAM,SAAUC,GAC7BA,EAAEC,qBACEC,QAAUL,EAAEM,MAIZC,QAAU,CACVC,WAAY,iCACZC,KAAM,CACFC,MANIL,QAAQM,KAAK,SAOjBC,OANKP,QAAQM,KAAK,YAUtBE,OAASb,EAAEM,MACfL,KAAKa,KAAK,CAACP,UAAU,GAAGQ,MAAK,SAASC,QAEd,WADpBA,OAASC,KAAKC,MAAMF,SACVG,QACNnB,EAAE,gBAAgBoB,KAAK,mBAAqBJ,OAAOK,SACnDR,OAAOO,KAAK,oBAEZpB,EAAE,gBAAgBoB,KAAK,mBAAqBJ,OAAOK,SACnDR,OAAOO,KAAK,cAGjBE,MAAK,SAASC,OACbC,QAAQC,IAAIF"}